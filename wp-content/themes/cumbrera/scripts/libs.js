/*Maps*/
function ClassMap(e){this.numeroMarkers=0,this.markers=Array(),this.myLatlng=new google.maps.LatLng(4.5950732,-74.0707895),this.map,this.iconoMarker,this.nombreDiv=e,this.getMarker=getMarker,this.setMarker=setMarker,this.getMarkersAll=getMarkersAll,this.setMarkersAll=setMarkersAll,this.getNumeroMarkers=getNumeroMarkers,this.setNumeroMarkers=setNumeroMarkers,this.getIconoMarker=getIconoMarker,this.setIconoMarker=setIconoMarker,this.agregarMarkerDb=agregarMarkerDb,this.agregarMarkerVentana=agregarMarkerVentana,this.leetInfoXml=leetInfoXml;var r={zoom:16,center:new google.maps.LatLng(4.700189,-74.067853),mapTypeId:google.maps.MapTypeId.ROADMAP,panControl:!1,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,overviewMapControl:!1,scrollwheel:!1,draggable:!0};this.map=new google.maps.Map(document.getElementById(e),r);var a={name:"Custom Division politica"},t=[{}],o=new google.maps.StyledMapType(t,a);return this.map.mapTypes.set("divpolatlas",o),this.map.setMapTypeId("divpolatlas"),google.maps.event.addListener(this.map,"click",function(r){agregarMarcaClick&&(agregarMarker(e,r.latLng.lat(),r.latLng.lng(),"Titulo del marker","","Este es el titulo de la ventana"),agregarMarcaClick=!1)}),window[e]=this,this}function agregarMarkerDb(e,r,a,t,o,n,i){mapa_map=window[e].map,image=window[e].getIconoMarker(),latlng=new google.maps.LatLng(r,a);var s=new google.maps.Marker({position:latlng,map:mapa_map,icon:image,title:t,zoom:8});return s.index=window[e].getNumeroMarkers(),google.maps.event.addListener(s,"click",function(t){mapa_map.setCenter(s.getPosition()),irLatLng(e,r,a)}),window[e+"_marker_"+window[e].getNumeroMarkers()]=s,window[e].setMarker(window[e].getNumeroMarkers(),s),array_datos[s.index]=Array(o,n,i),window[e].setNumeroMarkers(window[e].getNumeroMarkers()+1),s}function agregarMarkerVentana(e,r,a,t,o,n){mapa_map=window[e].map,""==o&&(o=window[e].getIconoMarker()),latlng=new google.maps.LatLng(r,a);var i=new google.maps.Marker({position:latlng,map:mapa_map,icon:o,title:t}),s=new google.maps.InfoWindow({content:n});return google.maps.event.addListener(i,"click",function(t){s.open(mapa_map,this),irLatLng(e,r,a)}),google.maps.event.addListener(i,"dragend",function(e){}),i.index=window[e].getNumeroMarkers(),window[e+"_marker_"+window[e].getNumeroMarkers()]=i,window[e+"_window_"+window[e].getNumeroMarkers()]=s,window[e].setMarker(window[e].getNumeroMarkers(),i),array_datos[i.index]=Array(t,n,window[e].getNumeroMarkers()),window[e].setNumeroMarkers(window[e].getNumeroMarkers()+1),i}function getMarker(e){return this.markers[e]}function setMarker(e,r){this.markers[e]=r}function getMarkersAll(){return this.markers}function setMarkersAll(e){this.markers=e}function getNumeroMarkers(){return this.numeroMarkers}function setNumeroMarkers(e){this.numeroMarkers=e}function getIconoMarker(){return this.iconoMarker}function setIconoMarker(e){this.iconoMarker=e}function irLatLng(e,r,a){window[e].map.panTo(new google.maps.LatLng(r,a))}function irMarker(e,r){myMarker=window[e].getMarker(r);var a=window[e+"_window_"+r];a.open(window[e].map,myMarker),window[e].map.panTo(myMarker.getPosition()),window[e].map.setZoom(17)}function leetInfoXml(){var e=this.nombreDiv;$.get("mapa_puntos.xml",function(r){var a="<ul>";$(r).find("punto").each(function(){myMarkerTemp=agregarMarkerVentana(e,$(this).find("lat").text(),$(this).find("lng").text(),$(this).find("sucursalCiudad").text(),$(this).find("icon").text(),$(this).find("html").html()),a+="<li onclick=\"irMarker('"+e+"', "+myMarkerTemp.index+');">',a+="<h4>",a+=$(this).find("sucursalCiudad").text(),a+="</li>"}),a+="</ul>",$("#sucursales").html(a)})}function buscarPunto(e,r){var a=new google.maps.Geocoder(r),t={address:r};a.geocode(t,function(r,a){irLatLng(e,r[0].geometry.location.lat(),r[0].geometry.location.lng())})}var array_datos=new Array,agregarMarcaClick=!1;